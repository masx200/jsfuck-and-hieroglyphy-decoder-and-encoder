{"version":3,"sources":["hieroglyphy.js"],"names":["global","undefined","numbers","_Infinity","_1e100","_String","characters","functionConstructor","escape","unescape","API","getHexaString","number","digits","string","toString","length","getUnescapeSequence","charCode","hieroglyphyString","hieroglyphyCharacter","char","unescapeSequence","hexaSequence","shortestSequence","charCodeAt","getUnicodeSequence","getHexaSequence","str","i","hieroglyphiedStr","hieroglyphyScript","src","hieroglyphyNumber","n","window","hieroglyphy","define","amd","exports","module"],"mappings":";;AAAA,IAAA,EAAA,UAAA,IAAA,SAAUA,EAAQC,GAEhB,aACIC,IAAAA,EAMFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAyNOC,SAAAA,EAAcC,EAAQC,GAGtBC,IAFHA,IAAAA,EAASF,EAAOG,SAAS,IAEtBD,EAAOE,OAASH,GACrBC,EAAS,IAAMA,EAGVA,OAAAA,EAGAG,SAAAA,EAAoBC,GAEzBT,OAAAA,EAAW,IAAMU,EAAkB,IAAMR,EAAcO,EAAU,IAAM,IAYlEE,SAAAA,EAAqBC,GACxBH,IACFI,EACAC,EAEAC,EAJEN,EAAWG,EAAKI,WAAW,GAM3BnB,OAAAA,EAAWe,KAAUpB,EAChBK,EAAWe,GAGP,OAATA,GAAyB,KAARA,GAEnBf,EAAWe,GAAQJ,EAAoBC,GAEhCZ,EAAWe,KAGpBG,EAtBOE,SAAmBR,GACnBC,OAAAA,EAAkB,MAAQR,EAAcO,EAAU,IAqBtCQ,CAAmBR,GAGlCA,EAAW,MACbI,EAAmBL,EAAoBC,GACnCM,EAAiBR,OAASM,EAAiBN,SAC7CQ,EAAmBF,GAGrBC,EAnCKI,SAAgBT,GAChBC,OAAAA,EAAkB,MAAQR,EAAcO,EAAU,IAkCxCS,CAAgBT,GAC3BM,EAAiBR,OAASO,EAAaP,SACzCQ,EAAmBD,IAIvBjB,EAAWe,GAAQG,EAMZA,GAGAL,SAAAA,EAAkBS,GACrBC,IAAAA,EACFC,EAAmB,GAEhBD,IAAAA,EAAI,EAAGA,EAAID,EAAIZ,OAAQa,GAAK,EAC/BC,GAAoBD,EAAI,EAAI,IAAM,GAClCC,GAAoBV,EAAqBQ,EAAIC,IAGxCC,OAAAA,EAaAC,SAAAA,EAAkBC,GAClBzB,OAAAA,EAAsB,IAAMY,EAAkBa,GAAO,MAjT9DtB,EAAM,CACJS,kBAAmBA,EACnBc,kBAoSOA,SAAkBC,GAGrBA,IAFJA,GAAKA,IAEI,EACAhC,OAAAA,EAAQgC,GAGV,MAAA,KAAOf,EAAkBe,EAAEnB,SAAS,KAAO,KA1SlDgB,kBAAmBA,GAErBI,OAAOC,YAAc1B,EACjBV,EAAOqC,QAAUrC,EAAOqC,OAAOC,IACjCtC,EAAOqC,OAAO,GAAI3B,GACU,oBAAZ6B,QAChBC,OAAOD,QAAU7B,EAEjBV,EAAOoC,YAAc1B,GAgBvBJ,EAAa,CACN,EAAA,KAdPJ,EAAU,CACR,MACA,QACA,YACA,iBACA,sBACA,2BACA,gCACA,qCACA,0CACA,iDAImB,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,OACnB,EAAA,IAAMA,EAAQ,GAAK,SASf,KAAO,WAA8BA,EAAQ,GAAK,IAC7DI,EAAW,KAAO,WAA8BJ,EAAQ,GAAK,IAC7DI,EAAW,KACT,WAA8BA,EAAW,GAAK,IAAMA,EAAW,GAAK,IACtEA,EAAU,EAAQ,YAAoBJ,EAAQ,GAAK,IACnDI,EAAU,EAAQ,WAA8BJ,EAAQ,GAAK,IAC7DI,EAAU,EAAQ,WAA8BJ,EAAQ,GAAK,IAC7DI,EAAU,EAAQ,eAA0BJ,EAAQ,GAAK,IACzDI,EAAU,EAAQ,eAA0BJ,EAAQ,GAAK,IACzDI,EAAU,EAAQ,YAAsBJ,EAAQ,GAAK,IACrDI,EAAU,EAAQ,eAA0BJ,EAAQ,GAAK,IACzDI,EAAU,EAAQ,WAA8BJ,EAAQ,GAAK,IAC7DI,EAAU,EAAQ,YAAsBJ,EAAQ,GAAK,IACrDI,EAAU,EAAQ,eAA0BJ,EAAQ,GAAK,IACzDI,EAAU,EAAQ,WAA8BJ,EAAQ,GAAK,IAC7DI,EAAU,EAAQ,aAAqBJ,EAAQ,GAAK,IACpDI,EAAU,EAAQ,YAAsBJ,EAAQ,GAAK,IACrDI,EAAU,EAAQ,aAAqBJ,EAAQ,GAAK,IACpDI,EAAU,EAAQ,eAA0BJ,EAAQ,GAAK,IACzDI,EAAU,EAAQ,YAAoBJ,EAAQ,GAAK,IACnDI,EAAU,EAAQ,WAA8BJ,EAAQ,GAAK,IAE7DG,EACE,cAKAc,EAAkB,eAClB,IAGFb,EAAU,EAAQ,IAAMD,EAAU,KAAYH,EAAQ,GAAK,IAC3DI,EAAU,EACR,IACAD,EACA,MAGAH,EAAQ,GACR,MAGAA,EAAQ,GACR,KAGFC,EACE,KACAD,EAAQ,GACR,IACAI,EAAU,EACV,IACAA,EAAW,GACX,IACAA,EAAW,GACX,IACAA,EAAW,GACX,IACAA,EAAW,GACX,OAEFA,EAAU,EAAQ,IAAMH,EAAY,KAAOD,EAAQ,GAAK,IACxDI,EAAU,EAAQ,IAAMH,EAAY,KAAOD,EAAQ,GAAK,IAExDE,EACE,KACAF,EAAQ,GACR,IACAI,EAAU,EACV,IACAA,EAAW,GACX,IACAA,EAAW,GACX,IACAA,EAAW,GACX,OAEFA,EAAW,KAAO,IAAMF,EAAS,KAAOF,EAAQ,GAAK,IAErDK,EACE,MACAY,EAAkB,QAClB,KACAA,EAAkB,eAClB,IAGFb,EAAU,EACR,KAEAJ,EAAQ,GACR,MAGAA,EAAQ,GACR,MAGAiB,EAAkB,YAClB,MAGAjB,EAAQ,GACR,MAGAA,EAAQ,GACR,KAEFI,EAAU,EACR,KAEAJ,EAAQ,GACR,MAGAA,EAAQ,GACR,MAGAA,EAAQ,GACR,MAGAiB,EAAkB,YAClB,MAGAjB,EAAQ,GACR,MAGAA,EAAQ,GACR,MAGAA,EAAQ,GACR,KAGFO,EAAWsB,EAAkB,mBAC7BvB,EAASuB,EAAkB,iBAE3BzB,EAAW,KACTE,EAAS,IAAMW,EAAkB,KAAO,KAAOjB,EAAQ,GAAK,IAI9DI,EAAW,KACT,cAGAa,EAAkB,UAClB,MACAb,EAAW,GACX,IACAA,EAAW,GACX,IACFA,EAAW,KACT,cAGAa,EAAkB,UAClB,MACAb,EAAW,GACX,IACAA,EAAW,GACX,IAvOJ,CAoUG","file":"hieroglyphy.js","sourceRoot":"..","sourcesContent":["(function(global, undefined) {\r\n  /*jshint sub:true, evil:true */\r\n  \"use strict\";\r\n  var numbers,\r\n    _object_Object,\r\n    _NaN,\r\n    _true,\r\n    _false,\r\n    _undefined,\r\n    _Infinity,\r\n    _1e100,\r\n    _String,\r\n    characters,\r\n    functionConstructor,\r\n    escape,\r\n    unescape,\r\n    API;\r\n  API = {\r\n    hieroglyphyString: hieroglyphyString,\r\n    hieroglyphyNumber: hieroglyphyNumber,\r\n    hieroglyphyScript: hieroglyphyScript\r\n  };\r\n  window.hieroglyphy = API;\r\n  if (global.define && global.define.amd) {\r\n    global.define([], API);\r\n  } else if (typeof exports !== \"undefined\") {\r\n    module.exports = API;\r\n  } else {\r\n    global.hieroglyphy = API;\r\n  }\r\n\r\n  numbers = [\r\n    \"+[]\",\r\n    \"+!![]\",\r\n    \"!+[]+!![]\",\r\n    \"!+[]+!![]+!![]\",\r\n    \"!+[]+!![]+!![]+!![]\",\r\n    \"!+[]+!![]+!![]+!![]+!![]\",\r\n    \"!+[]+!![]+!![]+!![]+!![]+!![]\",\r\n    \"!+[]+!![]+!![]+!![]+!![]+!![]+!![]\",\r\n    \"!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]\",\r\n    \"!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]\"\r\n  ];\r\n\r\n  characters = {\r\n    \"0\": \"(\" + numbers[0] + \"+[])\",\r\n    \"1\": \"(\" + numbers[1] + \"+[])\",\r\n    \"2\": \"(\" + numbers[2] + \"+[])\",\r\n    \"3\": \"(\" + numbers[3] + \"+[])\",\r\n    \"4\": \"(\" + numbers[4] + \"+[])\",\r\n    \"5\": \"(\" + numbers[5] + \"+[])\",\r\n    \"6\": \"(\" + numbers[6] + \"+[])\",\r\n    \"7\": \"(\" + numbers[7] + \"+[])\",\r\n    \"8\": \"(\" + numbers[8] + \"+[])\",\r\n    \"9\": \"(\" + numbers[9] + \"+[])\"\r\n  };\r\n\r\n  _object_Object = \"[]+{}\";\r\n  _NaN = \"+{}+[]\";\r\n  _true = \"!![]+[]\";\r\n  _false = \"![]+[]\";\r\n  _undefined = \"[][[]]+[]\";\r\n\r\n  characters[\" \"] = \"(\" + _object_Object + \")[\" + numbers[7] + \"]\";\r\n  characters[\"[\"] = \"(\" + _object_Object + \")[\" + numbers[0] + \"]\";\r\n  characters[\"]\"] =\r\n    \"(\" + _object_Object + \")[\" + characters[1] + \"+\" + characters[4] + \"]\";\r\n  characters[\"a\"] = \"(\" + _NaN + \")[\" + numbers[1] + \"]\";\r\n  characters[\"b\"] = \"(\" + _object_Object + \")[\" + numbers[2] + \"]\";\r\n  characters[\"c\"] = \"(\" + _object_Object + \")[\" + numbers[5] + \"]\";\r\n  characters[\"d\"] = \"(\" + _undefined + \")[\" + numbers[2] + \"]\";\r\n  characters[\"e\"] = \"(\" + _undefined + \")[\" + numbers[3] + \"]\";\r\n  characters[\"f\"] = \"(\" + _false + \")[\" + numbers[0] + \"]\";\r\n  characters[\"i\"] = \"(\" + _undefined + \")[\" + numbers[5] + \"]\";\r\n  characters[\"j\"] = \"(\" + _object_Object + \")[\" + numbers[3] + \"]\";\r\n  characters[\"l\"] = \"(\" + _false + \")[\" + numbers[2] + \"]\";\r\n  characters[\"n\"] = \"(\" + _undefined + \")[\" + numbers[1] + \"]\";\r\n  characters[\"o\"] = \"(\" + _object_Object + \")[\" + numbers[1] + \"]\";\r\n  characters[\"r\"] = \"(\" + _true + \")[\" + numbers[1] + \"]\";\r\n  characters[\"s\"] = \"(\" + _false + \")[\" + numbers[3] + \"]\";\r\n  characters[\"t\"] = \"(\" + _true + \")[\" + numbers[0] + \"]\";\r\n  characters[\"u\"] = \"(\" + _undefined + \")[\" + numbers[0] + \"]\";\r\n  characters[\"N\"] = \"(\" + _NaN + \")[\" + numbers[0] + \"]\";\r\n  characters[\"O\"] = \"(\" + _object_Object + \")[\" + numbers[8] + \"]\";\r\n\r\n  _String =\r\n    \"[]+\" +\r\n    \"(\" +\r\n    _object_Object +\r\n    \")\" +\r\n    \"[\" +\r\n    hieroglyphyString(\"constructor\") +\r\n    \"]\";\r\n  // \"â€Œfunction String() { [native code] }\"\r\n\r\n  characters[\"S\"] = \"(\" + _String + \")\" + \"[\" + numbers[9] + \"]\";\r\n  characters[\"g\"] =\r\n    \"(\" +\r\n    _String +\r\n    \")\" +\r\n    \"[\" +\r\n    \"(\" +\r\n    numbers[7] +\r\n    \")\" +\r\n    \"+\" +\r\n    \"(\" +\r\n    numbers[7] +\r\n    \")\" +\r\n    \"]\";\r\n\r\n  _Infinity =\r\n    \"+(\" +\r\n    numbers[1] +\r\n    \"+\" +\r\n    characters[\"e\"] +\r\n    \"+\" +\r\n    characters[1] +\r\n    \"+\" +\r\n    characters[0] +\r\n    \"+\" +\r\n    characters[0] +\r\n    \"+\" +\r\n    characters[0] +\r\n    \")+[]\";\r\n\r\n  characters[\"y\"] = \"(\" + _Infinity + \")[\" + numbers[7] + \"]\";\r\n  characters[\"I\"] = \"(\" + _Infinity + \")[\" + numbers[0] + \"]\";\r\n\r\n  _1e100 =\r\n    \"+(\" +\r\n    numbers[1] +\r\n    \"+\" +\r\n    characters[\"e\"] +\r\n    \"+\" +\r\n    characters[1] +\r\n    \"+\" +\r\n    characters[0] +\r\n    \"+\" +\r\n    characters[0] +\r\n    \")+[]\";\r\n\r\n  characters[\"+\"] = \"(\" + _1e100 + \")[\" + numbers[2] + \"]\";\r\n\r\n  functionConstructor =\r\n    \"[][\" +\r\n    hieroglyphyString(\"sort\") +\r\n    \"][\" +\r\n    hieroglyphyString(\"constructor\") +\r\n    \"]\";\r\n\r\n  //Below characters need _String\r\n  characters[\"h\"] =\r\n    \"(\" +\r\n    \"(\" +\r\n    numbers[9] +\r\n    \")\" +\r\n    \"+\" +\r\n    \"(\" +\r\n    numbers[8] +\r\n    \")\" +\r\n    \")\" +\r\n    \"[\" +\r\n    hieroglyphyString(\"toString\") +\r\n    \"]\" +\r\n    \"(\" +\r\n    \"(\" +\r\n    numbers[9] +\r\n    \")\" +\r\n    \"+\" +\r\n    \"(\" +\r\n    numbers[9] +\r\n    \")\" +\r\n    \")\";\r\n  characters[\"p\"] =\r\n    \"(\" +\r\n    \"(\" +\r\n    numbers[9] +\r\n    \")\" +\r\n    \"+\" +\r\n    \"(\" +\r\n    numbers[9] +\r\n    \")\" +\r\n    \"+\" +\r\n    \"(\" +\r\n    numbers[7] +\r\n    \")\" +\r\n    \")\" +\r\n    \"[\" +\r\n    hieroglyphyString(\"toString\") +\r\n    \"]\" +\r\n    \"(\" +\r\n    \"(\" +\r\n    numbers[9] +\r\n    \")\" +\r\n    \"+\" +\r\n    \"(\" +\r\n    numbers[9] +\r\n    \")\" +\r\n    \"+\" +\r\n    \"(\" +\r\n    numbers[8] +\r\n    \")\" +\r\n    \")\";\r\n\r\n  unescape = hieroglyphyScript(\"return unescape\");\r\n  escape = hieroglyphyScript(\"return escape\");\r\n\r\n  characters[\"%\"] =\r\n    escape + \"(\" + hieroglyphyString(\"[\") + \")[\" + numbers[0] + \"]\";\r\n\r\n  //'{': '(NaN+[][\"filter\"])[21]',\r\n  // '}': '(NaN+[][\"filter\"])[37]',\r\n  characters[\"{\"] =\r\n    \"(\" +\r\n    _NaN +\r\n    \"+[][\" +\r\n    hieroglyphyString(\"filter\") +\r\n    \"])[\" +\r\n    characters[2] +\r\n    \"+\" +\r\n    characters[1] +\r\n    \"]\";\r\n  characters[\"}\"] =\r\n    \"(\" +\r\n    _NaN +\r\n    \"+[][\" +\r\n    hieroglyphyString(\"filter\") +\r\n    \"])[\" +\r\n    characters[3] +\r\n    \"+\" +\r\n    characters[7] +\r\n    \"]\";\r\n\r\n  function getHexaString(number, digits) {\r\n    var string = number.toString(16);\r\n\r\n    while (string.length < digits) {\r\n      string = \"0\" + string;\r\n    }\r\n\r\n    return string;\r\n  }\r\n\r\n  function getUnescapeSequence(charCode) {\r\n    return (\r\n      unescape + \"(\" + hieroglyphyString(\"%\" + getHexaString(charCode, 2)) + \")\"\r\n    );\r\n  }\r\n\r\n  function getHexaSequence(charCode) {\r\n    return hieroglyphyString(\"\\\\x\" + getHexaString(charCode, 2));\r\n  }\r\n\r\n  function getUnicodeSequence(charCode) {\r\n    return hieroglyphyString(\"\\\\u\" + getHexaString(charCode, 4));\r\n  }\r\n\r\n  function hieroglyphyCharacter(char) {\r\n    var charCode = char.charCodeAt(0),\r\n      unescapeSequence,\r\n      hexaSequence,\r\n      unicodeSequence,\r\n      shortestSequence;\r\n\r\n    if (characters[char] !== undefined) {\r\n      return characters[char];\r\n    }\r\n\r\n    if (char === \"\\\\\" || char == \"x\") {\r\n      //These chars must be handled appart becuase the others need them\r\n      characters[char] = getUnescapeSequence(charCode);\r\n      // console.log(characters[char])\r\n      return characters[char];\r\n    }\r\n\r\n    shortestSequence = getUnicodeSequence(charCode);\r\n\r\n    //ASCII characters can be obtained with hexa and unscape sequences\r\n    if (charCode < 128) {\r\n      unescapeSequence = getUnescapeSequence(charCode);\r\n      if (shortestSequence.length > unescapeSequence.length) {\r\n        shortestSequence = unescapeSequence;\r\n      }\r\n\r\n      hexaSequence = getHexaSequence(charCode);\r\n      if (shortestSequence.length > hexaSequence.length) {\r\n        shortestSequence = hexaSequence;\r\n      }\r\n    }\r\n    // console.log(char, getUnicodeSequence(charCode).length, getUnescapeSequence(charCode).length, getHexaSequence(charCode).length)\r\n    characters[char] = shortestSequence;\r\n    // if(!(charCode < 128)){\r\n    //     // console.log(char)\r\n    //     console.log(shortestSequence)\r\n    // }\r\n\r\n    return shortestSequence;\r\n  }\r\n\r\n  function hieroglyphyString(str) {\r\n    var i,\r\n      hieroglyphiedStr = \"\";\r\n\r\n    for (i = 0; i < str.length; i += 1) {\r\n      hieroglyphiedStr += i > 0 ? \"+\" : \"\";\r\n      hieroglyphiedStr += hieroglyphyCharacter(str[i]);\r\n    }\r\n\r\n    return hieroglyphiedStr;\r\n  }\r\n\r\n  function hieroglyphyNumber(n) {\r\n    n = +n;\r\n\r\n    if (n <= 9) {\r\n      return numbers[n];\r\n    }\r\n\r\n    return \"+(\" + hieroglyphyString(n.toString(10)) + \")\";\r\n  }\r\n\r\n  function hieroglyphyScript(src) {\r\n    return functionConstructor + \"(\" + hieroglyphyString(src) + \")()\";\r\n  }\r\n})(this);\r\n"]}